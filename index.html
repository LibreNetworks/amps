<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Amps – Dynamic M3U & Streaming Server</title>

<style>
    body {
        margin: 0;
        font-family: "Rubik", sans-serif;
        background: #ffffff;
        color: #222;
        line-height: 1.6;
    }
    header {
        text-align: center;
        padding: 40px 20px;
        background: #1155ccff;
        color: white;
    }
    header img {
        height: 160px;
        margin-bottom: 10px;
    }
    h1 { margin: 0; font-size: 3rem; }
    h2 { color: #1155ccff; }
    .container {
        max-width: 900px;
        margin: auto;
        padding: 20px;
    }
    code, pre {
        background: #f5f5f5;
        padding: 5px 10px;
        border-radius: 5px;
    }
    pre {
        overflow-x: auto;
        padding: 15px;
    }
    ul {
        padding-left: 20px;
    }
    .section {
        margin-bottom: 50px;
    }
    footer {
        background: #f0f0f0;
        text-align: center;
        padding: 20px;
        margin-top: 40px;
        font-size: .9rem;
    }
    a {
        color: #1155ccff;
    }
</style>

<link href="https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;600&display=swap" rel="stylesheet">

</head>
<body>

<header>
    <img src="/assets/logo.svg" alt="Amps Logo">
    <h1>Amps</h1>
    <p>Dynamic M3U generator, stream relay/transcoder, and lightweight media server.</p>
</header>

<div class="container">

    <!-- About -->
    <div class="section">
        <h2>What is Amps?</h2>
        <p>
            Amps is a Flask-based server that dynamically generates .m3u playlists, relays or transcodes media streams 
            using FFmpeg, and provides fast configuration via a simple <code>config.yaml</code> file.
        </p>
        <p>
            It is designed for developers and self-hosters who want a modular, flexible, and modern small-scale streaming system.
        </p>
    </div>

    <!-- Features -->
    <div class="section">
        <h2>Features</h2>
        <ul>
            <li><strong>Dynamic M3U Playlists</strong> with metadata, logos, groups, and variant info.</li>
            <li><strong>FFmpeg Engine</strong> for relaying (copy) or transcoding streams.</li>
            <li><strong>Multi-protocol outputs</strong>: HLS, LL-HLS, DASH, RTSP, raw TS.</li>
            <li><strong>yt-dlp integration</strong> for YouTube, Twitch, and other complex sources.</li>
            <li><strong>REST API</strong> for live adding/removing streams.</li>
            <li><strong>EPG / XMLTV</strong> generation and JSON guide API.</li>
            <li><strong>Adaptive bitrate variants</strong> (SD/HD/low-bandwidth profiles).</li>
            <li><strong>Region locking</strong> per stream with ISO country code filtering.</li>
            <li><strong>Audio-only endpoints</strong> for radio and low-bandwidth playback.</li>
            <li><strong>Token authentication</strong> for secure access.</li>
            <li><strong>Dockerized</strong> for easy deployment.</li>
            <li><strong>CLI tools</strong> (<code>amps serve</code>, <code>amps list</code>).</li>
            <li><strong>Scheduled Streams</strong> using APScheduler.</li>
        </ul>
    </div>

    <!-- Architecture -->
    <div class="section">
        <h2>Architecture Overview</h2>
        <p>Amps is composed of several key components:</p>
        <ul>
            <li><strong>Flask Server</strong> – serves playlists, streams, and API endpoints.</li>
            <li><strong>FFmpeg Wrapper</strong> – manages transcoding/relay processes.</li>
            <li><strong>Configuration Loader</strong> – parses and validates config.yaml.</li>
            <li><strong>CLI</strong> – entry points for serving and managing streams.</li>
        </ul>
    </div>

    <!-- Installation -->
    <div class="section">
        <h2>Setup & Installation</h2>

        <h3>1. Requirements</h3>
        <ul>
            <li>Python 3.7+</li>
            <li>FFmpeg installed</li>
            <li>Docker (optional)</li>
        </ul>

        <h3>2. Development Install</h3>
<pre><code>git clone &lt;repository_url&gt;
cd amps-project

python -m venv venv
source venv/bin/activate   # Windows: venv\Scripts\activate

pip install -r requirements.txt

python -m amps serve
</code></pre>

        <h3>3. Docker Deployment</h3>
<pre><code>docker build -t amps-server .

docker run -d -p 5000:5000 \
  --name amps \
  -v $(pwd)/config.yaml:/app/config.yaml \
  --restart unless-stopped \
  amps-server
</code></pre>

    </div>

    <!-- Usage -->
    <div class="section">
        <h2>Usage</h2>
        <h3>Playlist Access</h3>
        <p>Open in VLC or browser:</p>
        <code>http://&lt;server_ip&gt;:5000/playlist.m3u?token=&lt;your_token&gt;</code>

        <h3>cURL Example</h3>
<pre><code>curl -L "http://localhost:5000/playlist.m3u?token=changeme123"
</code></pre>

        <h3>Filtering</h3>
        <p>Playlist parameters:</p>
        <ul>
            <li><code>region=US</code></li>
            <li><code>group=Sports,News</code></li>
            <li><code>ids=1,5,8</code></li>
            <li><code>variants=false</code></li>
        </ul>
    </div>

    <!-- License -->
    <div class="section">
        <h2>License</h2>
        <p>Amps is licensed under the Apache License 2.0.</p>
    </div>

</div>

<footer>
    <p>Built with ❤️ for open-source developers. Powered by Amps.</p>
    <p><a href="https://github.com/<your_repo>" target="_blank">View on GitHub</a></p>
</footer>

</body>
</html>
